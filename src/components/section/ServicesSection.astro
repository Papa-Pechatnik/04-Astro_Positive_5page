---
//ServicesSection
import IconServiceSearch from "../elements/icon/IconServiceSearch.astro";
import IconClickAdvertising from "../elements/icon/IconClickAdvertising.astro";
import IconSMM from "../elements/icon/IconSMM.astro";
import IconEmailMarketing from "../elements/icon/IconEmailMarketing.astro";
import IconContentCreation from "../elements/icon/IconContentCreation.astro";
import IconAnalyticsTracking from "../elements/icon/IconAnalyticsTracking.astro";

import type { SectionProps } from "../../types/SectionProps.ts";
interface Props extends SectionProps {}

const { sectionName } = Astro.props;

const cardsServices = [
  {
    id: 1,
    title: "Search engine optimization",
    icon: IconServiceSearch,
  },
  {
    id: 2,
    title: "Pay-per-click advertising",
    icon: IconClickAdvertising,
  },
  {
    id: 3,
    title: "Social Media Marketing",
    icon: IconSMM,
  },
  {
    id: 4,
    title: "Email Marketing",
    icon: IconEmailMarketing,
  },
  {
    id: 5,
    title: "Content Creation",
    icon: IconContentCreation,
  },
  {
    id: 6,
    title: "Analytics and Tracking",
    icon: IconAnalyticsTracking,
  },
];
---

<section class:list={["box", `box-${sectionName}`]}>
  <ul class="cards-list">
    {
      cardsServices.map((card) => {
        const IconComponent = card.icon;
        return (
          <li class="card box-shadow">
            <h3 class="card__title">
              <mark class="h3-title">{card.title}</mark>
            </h3>
            <a class="card__link" href="/">
              <span class="card__link-arrow flex-column-center">
                <svg
                  class="arrow"
                  width="21"
                  height="20"
                  viewBox="0 0 21 20"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M0.75 13.6956C0.0325611 14.1098 -0.213252 15.0272 0.200962 15.7446C0.615175 16.4621 1.53256 16.7079 2.25 16.2937L0.75 13.6956ZM20.2694 5.38286C20.4838 4.58266 20.0089 3.76015 19.2087 3.54574L6.16874 0.051683C5.36854 -0.16273 4.54603 0.312144 4.33162 1.11234C4.11721 1.91254 4.59208 2.73505 5.39228 2.94946L16.9834 6.05529L13.8776 17.6464C13.6631 18.4466 14.138 19.2691 14.9382 19.4835C15.7384 19.6979 16.5609 19.2231 16.7753 18.4229L20.2694 5.38286ZM2.25 16.2937L19.5705 6.29367L18.0705 3.69559L0.75 13.6956L2.25 16.2937Z"
                    fill="currentColor"
                  />
                </svg>
              </span>
              <span class="card__link-text">Learn more</span>
            </a>
            <div class="card__icon">
              <IconComponent />
            </div>
          </li>
        );
      })
    }
  </ul>
</section>
<style>
  .cards-list {
    display: flex;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: var(--gap-40-30);
  }

  .card {
    flex: 1;
    max-width: 37.5rem;
    width: 100%;
    min-width: 24.375rem;

    display: grid;
    grid-template-columns: repeat(2, minmax(10rem, 1fr));
    grid-template-rows: repeat(2, auto);
    justify-content: space-between;
    gap: 1rem;
    padding: 3.125rem;

    border: 0.0625rem solid var(--color2);
    border-radius: 2.8125rem;
  }

  .card__title {
    grid-area: 1 / 1 / 2 / 2;
    text-wrap: balance;
  }

  .h3-title {
    border-radius: 0.4375rem;
  }

  .card__link {
    width: max-content;
    grid-area: 2 / 1 / 3 / 2;
    align-self: end;
    display: flex;
    align-items: center;
    column-gap: 1rem;
  }

  .card__link-arrow {
    width: 2.5625rem;
    height: 2.5625rem;
    aspect-ratio: 1;
    border-radius: 50%;
    background-color: var(--bg-secondary);
    transition: all 0.7s;
  }

  .card__link:hover .card__link-arrow {
    transform: scale(1.05) rotate(60deg);
  }

  .arrow {
    color: var(--bg-subsidiary);
  }

  .card__link-text {
    color: var(--text-color-tertiary);
  }


  .card__icon {
    justify-self: end;
    align-self: end;

    grid-area: 1 / 2 / 3 / 3;
    display: flex;
    align-items: end;
  }
  /** .box-home */
  /** різними кольорами покрска */
  .box-home .card:nth-child(3n + 1) {
    background-color: var(--bg-primary);
  }
  .box-home .card:nth-child(3n + 1) .h3-title {
    background-color: var(--bg-subsidiary);
  }

  .box-home .card:nth-child(3n + 2) {
    background-color: var(--bg-subsidiary);
  }

  .box-home .card:is(:nth-child(3n + 2), :nth-child(3n + 3)) .h3-title {
    background-color: var(--bg-primary);
  }

  .box-home .card:nth-child(3n + 3) {
    background-color: var(--bg-secondary);
  }

  .box-home .card:nth-child(3n + 3) .card__link-arrow {
    background-color: var(--bg-primary);
  }

  .box-home .card:nth-child(3n + 3) .card__link-text {
    color: var(--text-color-secondary);
  }

  .box-home .card:nth-child(3n + 3) .arrow {
    color: var(--bg-secondary);
  }

  /** box-service - класс для сторінки services */
  /** СІРИМ кольорами покрска */
  .box-service .card {
    background-color: var(--bg-tertiary);
  }

  .box-service .h3-title {
background-color: var(--bg-primary);
  }
  @media screen and (max-width: 992px) {
    .cards-list {
      justify-content: center;
    }
    .card {
      min-width: fit-content;

      grid-template-columns: min-content minmax(auto, 10rem);
      grid-template-rows: min-content minmax(auto, 160px);
    }
    .card__title {
      max-width: 70%;
      grid-area: 1 / 1 / 2 / 3;
    }
    .card__link {
      grid-area: 2 / 1 / 3 / 2;
    }

    .card__icon {
      grid-area: 2 / 2 / 3 / 3;
      align-self: end;
    }
  }

  @media screen and (max-width: 576px) {
    .card__link-text {
      display: none;
    }
  }

  @media screen and (max-width: 430px) {
    .card__title {
      max-width: 100%;
    }
  }
</style>
